<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - F1 Gear</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'racing-green': '#003B2B',     // Primary background
            'metallic-silver': '#B0B0B0',  // Text, clean look
            'gold-accent': '#CBA135',      // Luxury accents
            'carbon-gray': '#2F2F2F',      // Secondary sections
            'racing-white': '#FAFAFA',     // Product cards, highlights
            'racing-red': '#D50000',       // For error states and alerts
            'racing-black': '#121212',     // Deep background for dark mode
            'asphalt-gray': '#4A4A4A',     // Text on light backgrounds
            'champagne-gold': '#F8E9A1',   // Lighter gold variant
            'pit-lane-gray': '#6A6A6A'     // Mid-tone gray for subtle elements
          }
        }
      }
    }
  </script>
  <link href="style.css" rel="stylesheet">
</head>
<body class="bg-racing-white text-asphalt-gray">
<header class="bg-racing-green text-racing-white p-4 flex justify-between items-center">
  <div class="logo">
    <a href="https://f1stories.gr" class="text-2xl font-bold text-gold-accent">F1 GEAR</a>
  </div>
  <nav class="flex space-x-4 items-center">
    <a href="index.html" class="hover:text-gold-accent transition-all">Home</a>
    <a href="https://f1stories.gr/#about" class="hover:text-gold-accent transition-all">About</a>
    <a href="https://f1stories.gr/#contact" class="hover:text-gold-accent transition-all">Contact</a>
    <a href="wishlist.html" class="hover:text-gold-accent relative transition-all">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
      </svg>
      <span
              id="wishlist-count"
              class="absolute -top-2 -right-2 bg-racing-red text-racing-white text-xs rounded-full px-2 py-1 hidden"
      >
        0
      </span>
    </a>
    <a href="cart.html" class="hover:text-gold-accent relative transition-all">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
      </svg>
      <span
              id="cart-count"
              class="cart-count absolute -top-2 -right-2 bg-racing-red text-racing-white text-xs rounded-full px-2 py-1 hidden"
      >
        0
      </span>
    </a>
    <button id="darkModeToggle" class="hover:text-gold-accent transition-all p-1 rounded-full">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
      </svg>
    </button>
  </nav>
</header>

<!-- Racing stripe accent -->
<div class="racing-stripe"></div>

<div class="container mx-auto mt-8 p-4">
  <h1 class="text-3xl font-bold mb-6 text-racing-green">Checkout</h1>

  <div class="grid md:grid-cols-2 gap-8">
    <!-- Order Summary -->
    <div>
      <div class="bg-carbon-gray p-6 rounded-lg mb-6 shadow-lg border-t-4 border-gold-accent">
        <h2 class="text-racing-white text-xl font-bold mb-4">Order Summary</h2>
        <div id="checkoutItems" class="space-y-4">
          <!-- Checkout items will be dynamically inserted here -->
        </div>
        <div class="border-t border-pit-lane-gray mt-4 pt-4">
          <div class="flex justify-between">
            <span class="text-racing-white">Total</span>
            <span id="checkoutTotal" class="text-gold-accent font-bold">$0.00</span>
          </div>
        </div>
      </div>

      <!-- Shipping options -->
      <div class="bg-racing-white p-6 rounded-lg shadow-lg border border-pit-lane-gray mb-6">
        <h2 class="text-racing-green text-xl font-bold mb-4">Shipping Method</h2>
        <div class="space-y-3">
          <label class="flex items-center p-3 border border-pit-lane-gray rounded-lg cursor-pointer hover:border-gold-accent transition-colors">
            <input type="radio" name="shipping" value="standard" class="mr-3 text-racing-green" checked>
            <div>
              <span class="block font-medium text-racing-green">Standard Shipping</span>
              <span class="text-sm text-pit-lane-gray">3-5 business days</span>
            </div>
            <span class="ml-auto font-medium">$4.99</span>
          </label>

          <label class="flex items-center p-3 border border-pit-lane-gray rounded-lg cursor-pointer hover:border-gold-accent transition-colors">
            <input type="radio" name="shipping" value="express" class="mr-3 text-racing-green">
            <div>
              <span class="block font-medium text-racing-green">Express Shipping</span>
              <span class="text-sm text-pit-lane-gray">1-2 business days</span>
            </div>
            <span class="ml-auto font-medium">$12.99</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Checkout Form -->
    <div>
      <div class="bg-racing-white p-6 rounded-lg shadow-lg border border-pit-lane-gray">
        <h2 class="text-racing-green text-xl font-bold mb-4">Shipping Information</h2>
        <form id="checkoutForm" class="space-y-4 checkout-form">
          <div>
            <label class="block text-racing-green mb-2 font-medium">Full Name</label>
            <input
                    type="text"
                    required
                    class="w-full p-2 border border-pit-lane-gray rounded focus:border-gold-accent focus:ring focus:ring-gold-accent focus:ring-opacity-20 outline-none"
                    placeholder="Enter your full name"
            >
          </div>
          <div>
            <label class="block text-racing-green mb-2 font-medium">Email Address</label>
            <input
                    type="email"
                    required
                    class="w-full p-2 border border-pit-lane-gray rounded focus:border-gold-accent focus:ring focus:ring-gold-accent focus:ring-opacity-20 outline-none"
                    placeholder="Enter your email"
            >
          </div>
          <div>
            <label class="block text-racing-green mb-2 font-medium">Shipping Address</label>
            <input
                    type="text"
                    required
                    class="w-full p-2 border border-pit-lane-gray rounded focus:border-gold-accent focus:ring focus:ring-gold-accent focus:ring-opacity-20 outline-none"
                    placeholder="Street Address"
            >
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-racing-green mb-2 font-medium">City</label>
              <input
                      type="text"
                      required
                      class="w-full p-2 border border-pit-lane-gray rounded focus:border-gold-accent focus:ring focus:ring-gold-accent focus:ring-opacity-20 outline-none"
                      placeholder="City"
              >
            </div>
            <div>
              <label class="block text-racing-green mb-2 font-medium">State</label>
              <input
                      type="text"
                      required
                      class="w-full p-2 border border-pit-lane-gray rounded focus:border-gold-accent focus:ring focus:ring-gold-accent focus:ring-opacity-20 outline-none"
                      placeholder="State"
              >
            </div>
            <div>
              <label class="block text-racing-green mb-2 font-medium">Zip</label>
              <input
                      type="text"
                      required
                      class="w-full p-2 border border-pit-lane-gray rounded focus:border-gold-accent focus:ring focus:ring-gold-accent focus:ring-opacity-20 outline-none"
                      placeholder="Zip"
              >
            </div>
          </div>

          <div class="mt-6 pt-6 border-t border-pit-lane-gray">
            <h3 class="text-racing-green font-bold mb-4">Payment Method</h3>
            <div id="paypal-button-container" class="mt-4"></div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Racing-themed footer -->
<footer class="bg-racing-green text-racing-white mt-12 py-6">
  <div class="racing-stripe mb-6"></div>
  <div class="container mx-auto text-center">
    <p class="text-metallic-silver">&copy; 2025 F1 GEAR. All rights reserved.</p>
    <div class="flex justify-center space-x-4 mt-4">
      <a href="#" class="text-metallic-silver hover:text-gold-accent transition-colors">Privacy Policy</a>
      <a href="#" class="text-metallic-silver hover:text-gold-accent transition-colors">Terms of Service</a>
      <a href="#" class="text-metallic-silver hover:text-gold-accent transition-colors">Contact Us</a>
    </div>
  </div>
</footer>

<script>
  // Dark Mode Toggle
  const darkModeToggle = document.getElementById('darkModeToggle');
  const body = document.body;

  // Check initial dark mode state
  if (localStorage.getItem('darkMode') === 'true') {
    body.classList.add('dark');
  }

  darkModeToggle.addEventListener('click', () => {
    body.classList.toggle('dark');
    localStorage.setItem('darkMode', body.classList.contains('dark'));
  });

  // Checkout Process
  const checkoutItemsContainer = document.getElementById('checkoutItems');
  const checkoutTotalElement = document.getElementById('checkoutTotal');
  const paypalButtonContainer = document.getElementById('paypal-button-container');

  function renderCheckoutSummary() {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');

    // Clear previous items
    checkoutItemsContainer.innerHTML = '';

    // Render checkout items
    let total = 0;
    cart.forEach(item => {
      const itemTotal = item.price * item.quantity;
      total += itemTotal;

      const checkoutItemElement = document.createElement('div');
      checkoutItemElement.className = 'flex justify-between text-racing-white border-b border-pit-lane-gray pb-2 mb-2 last:border-0';
      checkoutItemElement.innerHTML = `
        <span>${item.name} Ã— ${item.quantity}</span>
        <span class="font-medium">$${itemTotal.toFixed(2)}</span>
      `;

      checkoutItemsContainer.appendChild(checkoutItemElement);
    });

    // Add shipping cost (default to standard)
    const shippingCost = 4.99;
    total += shippingCost;

    const shippingElement = document.createElement('div');
    shippingElement.className = 'flex justify-between text-racing-white border-b border-pit-lane-gray pb-2 mb-2';
    shippingElement.innerHTML = `
      <span>Shipping (Standard)</span>
      <span class="font-medium">$${shippingCost.toFixed(2)}</span>
    `;
    checkoutItemsContainer.appendChild(shippingElement);

    // Update total
    checkoutTotalElement.textContent = `$${total.toFixed(2)}`;

    // Listen for shipping method changes
    document.querySelectorAll('input[name="shipping"]').forEach(radio => {
      radio.addEventListener('change', function() {
        const shippingMethod = this.value;
        const newShippingCost = shippingMethod === 'express' ? 12.99 : 4.99;

        // Update shipping display
        shippingElement.innerHTML = `
          <span>Shipping (${shippingMethod === 'express' ? 'Express' : 'Standard'})</span>
          <span class="font-medium">$${newShippingCost.toFixed(2)}</span>
        `;

        // Update total with new shipping cost
        const subtotal = total - shippingCost;
        const newTotal = subtotal + newShippingCost;
        checkoutTotalElement.textContent = `$${newTotal.toFixed(2)}`;
      });
    });

    // Setup PayPal buttons
    paypal.Buttons({
      createOrder: function(data, actions) {
        return actions.order.create({
          purchase_units: [{
            amount: {
              value: total.toFixed(2)
            }
          }]
        });
      },
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
          alert('Transaction completed by ' + details.payer.name.given_name);
          localStorage.removeItem('cart');
          window.location.href = 'index.html';
        });
      },
      style: {
        color: 'gold',
        shape: 'rect',
        layout: 'vertical'
      }
    }).render('#paypal-button-container');
  }

  // Initial render
  renderCheckoutSummary();
</script>
<!-- Add this code to the bottom of all HTML files, right before the closing </body> tag -->

<!-- Mobile Navigation for Small Screens -->
<div class="mobile-menu-wrapper hidden md:hidden">
  <!-- Mobile Bottom Navigation Bar -->
  <nav class="mobile-nav">
    <a href="https://f1stories.gr" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
      </svg>
      <span class="text-xs mt-1">Home</span>
    </a>
    <a href="cart.html" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2 relative">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
      </svg>
      <span class="text-xs mt-1">Cart</span>
      <span class="cart-count absolute -top-1 -right-1 bg-racing-red text-racing-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
    </a>
    <a href="wishlist.html" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2 relative">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
      </svg>
      <span class="text-xs mt-1">Wishlist</span>
      <span id="mobile-wishlist-count" class="absolute -top-1 -right-1 bg-racing-red text-racing-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
    </a>
    <button id="mobileDarkModeToggle" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
      </svg>
      <span class="text-xs mt-1">Theme</span>
    </button>
  </nav>
</div>

<script>
  // Mobile Menu Initialization
  document.addEventListener('DOMContentLoaded', function() {
    // Check window width and show mobile menu if needed
    function checkMobileMenu() {
      const mobileMenuWrapper = document.querySelector('.mobile-menu-wrapper');
      if (!mobileMenuWrapper) return;

      if (window.innerWidth <= 380) {
        mobileMenuWrapper.classList.remove('hidden');
      } else {
        mobileMenuWrapper.classList.add('hidden');
      }
    }

    // Initial check
    checkMobileMenu();

    // Check on resize
    window.addEventListener('resize', checkMobileMenu);

    // Setup mobile dark mode toggle
    const mobileDarkModeToggle = document.getElementById('mobileDarkModeToggle');
    if (mobileDarkModeToggle) {
      mobileDarkModeToggle.addEventListener('click', function() {
        document.body.classList.toggle('dark');
        localStorage.setItem('darkMode', document.body.classList.contains('dark'));
      });
    }

    // Sync mobile wishlist count with main wishlist count
    function updateMobileWishlistCount() {
      const wishlistCount = document.getElementById('wishlist-count');
      const mobileWishlistCount = document.getElementById('mobile-wishlist-count');

      if (wishlistCount && mobileWishlistCount) {
        mobileWishlistCount.textContent = wishlistCount.textContent;
        mobileWishlistCount.classList.toggle('hidden', wishlistCount.classList.contains('hidden'));
      }
    }

    // Initial update
    updateMobileWishlistCount();

    // Update when main count changes (using MutationObserver)
    const wishlistCount = document.getElementById('wishlist-count');
    if (wishlistCount) {
      const observer = new MutationObserver(updateMobileWishlistCount);
      observer.observe(wishlistCount, {
        attributes: true,
        childList: true,
        characterData: true
      });
    }
  });
</script>
</body>
</html>